# 动态表单
### 动态表单（汪梦森）

#### 表单列表。依据特定顺序列举表单关键信息。提供操作入口。

表单列表是对目前已经创建好的表单的归类，包括已发布和未发布的表单。
在表单列表可以对现有表单进行查询、新建、编辑、删除和更改发布状态等操作。

#### 创建新表单。拖拽组织表单形式，针对不同输入项设置其业务属性。
新建表单分别有三个页面，分别是：基础信息、表单设计等，根据业务流程不同生成相对应的动态表单并对其进行操作编辑等操作。

1. 基础信息页面：
   
   - 点击表单页面新建，进入基础信息页面，新建基础信息页面有表名、页面编码、页面名称三个字段；
   
   - 页面编码只允许输入数字和字母，表名和页面编码保存之后不可修改；
   
   - 正确填写完毕之后点击下一步进入表单设计页面(下一步 === 保存操作)。
   
2. 表单设计页面：
   进入表单设计页面，点击添加表单会弹出弹窗，输入相对应输入项，步骤完成创建好表单。

   创建好表单后，点击页面布局按钮进入表单设计页面。表单设计页面分为以下三个模块：

   - 组件选择区域：可以通过点击或者拖拽来给表单添加组件；
   - 表单显示区域：选择的组件都会在这里显示出来，可以通过拖拽的方式设置组件的位置；
   - 属性设置区域：这里显示的是表单属性和表单参数，表单属性分别有：表单类别、表单类型、标签位置、标签宽度和栅格间距等。

   完成页面布局之后点击保存会生成一段JSON字符串，工作流程页面可以通过这段JSON字符串来解析渲染表单。

#### 编辑已有表单。拖拽组织表单形式，针对不同输入项改变其业务属性。
编辑已有表单，只能对可更改的字段进行更改，如果是表单的唯一标识，则不可重复、不可修改，【校验属性】。
表单设计页面，页面布局操作，可以对之前的页面布局进行增删改操作，保存之后生效。

#### 删除已有表单
删除选择的表单。流程生效，基于表单，则不可删除。(软删除)







### 表单设计（余龙威）
-依据需求概要，细化每项需求。为力求更细致的叙述，一个大的功能点需要拆分成多个小的功能点 要求但不局限于

- 涉及的用户角色 
> 系统管理员

- 核心功能
>1.页面的新增，编辑，删除，查看模块。
>>> 页面新增，往表里插入主键id,页面编码，页面名称，表名。
>页面编辑，通过主键id，去修改页面编码，页面名称，表名。
>页面删除，通过主键id去删除。页面查看，加载查询页面列表。
>
>2.表单组件的解析
>>> 从页面查看列表，点击编辑表单，弹出表单编辑界面，通过关联的表名，去获取表名字段的注释，注释定义了表单字段组件JSON,获取到该JSON,
> 通过视图拼接在一起，返给前端，前端去解析该JSON，加载出表单组件。
>
>3.表单布局保存
>>>管理员在表单编辑界面，拖动表单组件，去画界面，然后配置表单组件的属性（比如输入框长度，宽度）。点击保存，将画好的界面以及配置的属性，以大JSON传给后端，
>后端获取后，保存到数据库。
>
>4.页面的渲染
>>>管理员配置好菜单后，用户点击对应的菜单链接，弹出菜单关联的页面，往后端传入页面id,后端通过页面id去获取之前配置好的大JSON,返给前端，
>>>前端对页面进行解析渲染，展示出来。

- 输入内容和输出内容
>1.页面的新增，输入：页面编码，页面名称，页面类型，表名。输出：添加成功
>
>2.页面编辑，输入：主键id。输出：修改成功
>
>3.页面删除，输入：主键id。输出：删除成功
>
>4.页面查看，输入：查询条件。输出：页面列表数据
>
>5.表单编辑界面组件加载，输入：主键id。输出：界面组件json
>
>6.表单编辑界面保存。输入：画好的界面以及配置的属性的大JSON，输出：保存成功
>
>7.页面加载。输入：页面id。输出：画好的界面以及配置的属性的大JSON


- 异常处理逻辑
> 接口异常时，触发事物回滚机制，并能捕获各种异常状态，返给前端，给出提示。
> 
- 存在问题
>表单修改后，原表单在使用处于流程中，怎么确保修改后的新表单不被影响？(已讨论解决，加版本号)

- 与其它功能的联系
> 用户在界面填报完数据后，点击提交，进入工作流模块。

在系统开发完成后，将依据以上的描述逐一评审完成度。
